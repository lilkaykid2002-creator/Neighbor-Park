<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neighbor Park - è¯¦æƒ…</title>
    <style>
        body { font-family: Arial, sans-serif; margin:0; color:#000; background:#fff; }
        header { position: sticky; top:0; background:#fff; border-bottom:1px solid #000; padding:16px 24px; display:flex; align-items:center; justify-content:space-between; z-index:10; }
        .logo { font-weight: 800; text-transform: uppercase; }
        /* é¡¶éƒ¨ä¿¡æ¯åŒºï¼ˆæ¥è¿‘ VICEï¼‰ */
        .article-header { max-width: 980px; margin: 24px auto 0; padding: 0 16px; }
        .breadcrumbs { font-size:12px; color:#666; text-transform:uppercase; letter-spacing:1px; margin-bottom:12px; }
        .article-title { font-weight:900; font-size:40px; line-height:1.15; margin-bottom:10px; letter-spacing:-0.5px; }
        .article-sub { font-size:18px; line-height:1.6; color:#444; margin-bottom:14px; }
        .meta-bar { display:flex; gap:14px; flex-wrap:wrap; align-items:center; font-size:12px; color:#666; border-top:1px solid #eee; border-bottom:1px solid #eee; padding:10px 0; }
        .meta-sep { opacity:.5; }
        .share { margin-left:auto; display:flex; gap:10px; }
        .share a { display:inline-block; padding:6px 10px; border:1px solid #000; font-size:12px; text-decoration:none; color:#000; }
        /* é¦–å›¾ */
        .hero { height: 48vh; min-height:360px; background:#f5f5f5; display:flex; align-items:center; justify-content:center; font-size:56px; margin: 16px auto; max-width: 1200px; }
        /* æ­£æ–‡å¸ƒå±€ */
        .article-body { max-width: 760px; margin: 0 auto; padding: 0 16px 60px; }
        .article-body p { font-size:18px; line-height:1.9; color:#222; margin: 18px 0; }
        .article-body h2 { font-size:26px; margin:28px 0 12px; }
        .pull-quote { border-left: 4px solid #000; padding-left:14px; margin:26px 0; font-size:22px; line-height:1.5; font-weight:700; }
        .inline-image { background:#f5f5f5; height:320px; display:flex; align-items:center; justify-content:center; font-size:40px; margin:24px 0 8px; }
        .caption { font-size:12px; color:#666; margin-bottom:16px; }
        .foot-meta { border-top:1px solid #eee; margin-top:32px; padding-top:16px; color:#666; font-size:12px; }
        @media (max-width: 768px) {
            .article-title { font-size:28px; }
            .hero { height: 36vh; min-height:240px; }
        }
    </style>
    <script>
        function getQuery(){
            const p = new URLSearchParams(location.search);
            return { type: (p.get('type')||'').toLowerCase(), slug: p.get('slug')||'' };
        }
        // æ¼”ç¤ºæ•°æ®ï¼ˆå¯æ›¿æ¢ä¸ºå¤–éƒ¨ JSON/CMS æ‹‰å–ï¼›å­—æ®µå¯¹é½æ–‡ç« é£æ ¼ï¼‰
        const db = {
            doc: {
                'underground-music': { title:'åœ°ä¸‹éŸ³ä¹ç°åœº', sub:'ç‹¬ç«‹ä¹é˜Ÿä¸åŸå¸‚ç©ºé—´çš„å…±æŒ¯', image:'ğŸµ', category:'music', author:'ç¼–è¾‘éƒ¨', date:'2025-10-28', body:'è¿™é‡Œæ˜¯çºªå½•ç‰‡ã€Šåœ°ä¸‹éŸ³ä¹ç°åœºã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' },
                'street-culture': { title:'åŸå¸‚è¡—å¤´æ–‡åŒ–å¿—', sub:'è¡—å¤´è‰ºæœ¯ã€æ¶‚é¸¦ä¸åŸå¸‚æ›´æ–°çš„è¾¹ç•Œ', image:'ğŸ™ï¸', category:'culture', author:'å¼ æ˜', date:'2025-11-01', body:'è¿™é‡Œæ˜¯çºªå½•ç‰‡ã€ŠåŸå¸‚è¡—å¤´æ–‡åŒ–å¿—ã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' }
            },
            article: {
                'y2k-aesthetics': { title:'è§£æ„Y2Kç¾å­¦', sub:'åƒç¦§å¹´å¤å¤å¦‚ä½•å†åº¦æˆä¸ºä¸»æµï¼Ÿ', image:'ğŸ“°', category:'culture', author:'ææ€', date:'2025-11-01', body:'è¿™é‡Œæ˜¯æ–‡ç« ã€Šè§£æ„Y2Kç¾å­¦ã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' },
                'illustrator-interview': { title:'å¯¹è¯ç‹¬ç«‹æ’ç”»å¸ˆ', sub:'ç”¨ç”»ç¬”è®°å½•éƒ½å¸‚é’å¹´çš„æƒ…ç»ª', image:'ğŸ¨', category:'interview', author:'ç‹å¼º', date:'2025-10-28', body:'è¿™é‡Œæ˜¯æ–‡ç« ã€Šå¯¹è¯ç‹¬ç«‹æ’ç”»å¸ˆã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' },
                'cafe-culture': { title:'å’–å•¡é¦†æ–‡åŒ–ï¼šåŸå¸‚é’å¹´çš„ç¬¬ä¸‰ç©ºé—´', sub:'åå®¶åŸå¸‚ç©ºé—´çš„å¾®è§‚å™äº‹', image:'â˜•', category:'lifestyle', author:'ç¼–è¾‘éƒ¨', date:'2025-10-20', body:'è¿™é‡Œæ˜¯æ–‡ç« ã€Šå’–å•¡é¦†æ–‡åŒ–ã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' },
                'digital-nomads': { title:'æ•°å­—æ¸¸æ°‘ï¼šé‡æ–°å®šä¹‰å·¥ä½œä¸ç”Ÿæ´»è¾¹ç•Œ', sub:'ç§»åŠ¨åŠå…¬çš„è‡ªç”±ä¸çº¦æŸ', image:'ğŸ“±', category:'tech', author:'ç¼–è¾‘éƒ¨', date:'2025-10-15', body:'è¿™é‡Œæ˜¯æ–‡ç« ã€Šæ•°å­—æ¸¸æ°‘ã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' },
                'sustainable-fashion': { title:'å¯æŒç»­æ—¶å°šï¼šå¹´è½»æ¶ˆè´¹è€…çš„ç¯ä¿é€‰æ‹©', sub:'å½“æ—¶å°šé‡è§è´£ä»»', image:'ğŸŒ¿', category:'sustainability', author:'ç¼–è¾‘éƒ¨', date:'2025-10-10', body:'è¿™é‡Œæ˜¯æ–‡ç« ã€Šå¯æŒç»­æ—¶å°šã€‹çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' }
            },
            product: {
                'logo-tee': { title:'Logo Tee', image:'ğŸ‘•', category:'apparel', price:199, body:'è¿™é‡Œæ˜¯å•†å“ Logo Tee çš„è¯¦æƒ…æ­£æ–‡å ä½ã€‚' }
            }
        };
        async function getItemFromCMS(type, slug){
            if (!(window.CMS && window.CMS.isConfigured())) return null;
            if (type==='doc') return await window.CMS.getDocumentaryBySlug(slug);
            if (type==='article') return await window.CMS.getArticleBySlug(slug);
            if (type==='product') return await window.CMS.getProductBySlug(slug);
            return null;
        }
        function estimateReadingMinutes(text){
            const words = (text||'').trim().replace(/\s+/g,' ').split(' ').length;
            const chars = (text||'').length;
            const wpm = 350; // ä¸­æ–‡/æ··æ’ä¼°ç®—
            const minutes = Math.max(1, Math.round(words / wpm) || Math.round(chars/700));
            return minutes;
        }
        function formatDate(d){
            if (!d) return '';
            try { const dt = new Date(d); return `${dt.getFullYear()}-${String(dt.getMonth()+1).padStart(2,'0')}-${String(dt.getDate()).padStart(2,'0')}`; } catch { return d; }
        }
        async function render(){
            const { type, slug } = getQuery();
            let item = await getItemFromCMS(type, slug);
            if (!item) item = (db[type]||{})[slug];
            if (!item){
                document.title = 'æœªæ‰¾åˆ°å†…å®¹';
                document.querySelector('#app').innerHTML = '<div class="article-body"><p>æœªæ‰¾åˆ°è¯¥å†…å®¹ï¼Œè¯·è¿”å›åˆ—è¡¨ã€‚</p></div>';
                return;
            }
            const scope = type==='doc' ? 'Films' : type==='article' ? 'Articles' : 'Shop';
            const readingMin = type!=='product' ? estimateReadingMinutes(item.body) : null;
            document.title = `${item.title} - Neighbor Park`;

            const shareUrl = location.href;
            const shareBar = `
                <div class="share">
                    <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}" target="_blank" rel="noopener">FB</a>
                    <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}" target="_blank" rel="noopener">X</a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}" target="_blank" rel="noopener">IN</a>
                </div>`;

            document.querySelector('#app').innerHTML = `
                <div class="article-header">
                    <div class="breadcrumbs">${scope} / ${item.category || ''}</div>
                    <h1 class="article-title">${item.title}</h1>
                    ${item.sub ? `<div class="article-sub">${item.sub}</div>` : ''}
                    <div class="meta-bar">
                        ${item.author ? `<span>By ${item.author}</span><span class="meta-sep">|</span>`:''}
                        ${item.date ? `<span>${formatDate(item.date)}</span>`:''}
                        ${readingMin ? `<span class="meta-sep">|</span><span>${readingMin} min read</span>`:''}
                        ${shareBar}
                    </div>
                </div>
                <div class="hero" id="image">${item.image || 'ğŸ–¼ï¸'}</div>
                <div class="article-body">
                    <p>${item.body || ''}</p>
                    <div class="pull-quote">â€œäººç¾¤ç¦»å»ä¹‹åï¼ŒåŸå¸‚è¿˜åœ¨æŒç»­å‘å£°ã€‚â€</div>
                    <div class="inline-image">ğŸ–¼ï¸</div>
                    <div class="caption">å›¾ç‰‡è¯´æ˜å ä½ï¼ˆå¯æ›¿æ¢ä¸ºçœŸå®å›¾ç‰‡ä¸è¯´æ˜ï¼‰</div>
                    <h2>å»¶ä¼¸é˜…è¯»</h2>
                    <p>è¿™é‡Œå¯ä»¥æ”¾ä¸ä¸»é¢˜ç›¸å…³çš„èƒŒæ™¯ä¿¡æ¯ã€å¼•ç”¨æˆ–å¤–éƒ¨å‚è€ƒé“¾æ¥ã€‚</p>
                    ${type==='product' && item.price ? `<div class="foot-meta">ä»·æ ¼ï¼šÂ¥${item.price}</div>`:''}
                    <div class="foot-meta">æ¥æºé£æ ¼å‚è€ƒï¼š<a href="https://www.vice.com/en/article/22-cars-were-dropped-into-the-ocean-to-serve-as-man-made-coral-reefs/" target="_blank" rel="noopener">VICE æ–‡ç« æ¨¡æ¿</a></div>
                </div>
            `;
        }
        window.addEventListener('DOMContentLoaded', render);
    </script>
    <script src="/scripts/cms.config.js" defer></script>
    <script src="/scripts/cms.js" defer></script>
</head>
<body>
    <header>
        <div class="logo">NEIGHBOR PARK</div>
        <div>
            <a href="/index.html" style="margin-right:12px; text-decoration:none;">é¦–é¡µ</a>
            <a href="javascript:history.back()" style="text-decoration:none;">è¿”å›</a>
        </div>
    </header>
    <div id="app"></div>
</body>
</html>


